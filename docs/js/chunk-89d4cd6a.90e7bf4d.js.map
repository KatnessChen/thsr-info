{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./src/components/checkTrain.vue?87df","webpack:///src/components/checkTrain.vue","webpack:///./src/components/checkTrain.vue?8dbb","webpack:///./src/components/checkTrain.vue","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./src/components/checkTrain.vue?767a"],"names":["fails","module","exports","method","arg","call","render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","departureStation","expression","_l","$store","state","item","key","StationID","StationName","Zh_tw","arrivalStation","pickerOption","departureDate","start","startTimeOption","step","end","departureTime","arrivalTime","loading","btnDisabled","on","getTrains","_v","staticClass","_s","result","length","staticRenderFns","data","methods","dispatch","a","OriginStopTime","DepartureTime","b","prepandZero","number","computed","created","min","hour","component","$export","aFunction","toObject","$sort","sort","test","P","F","undefined","comparefn"],"mappings":"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","file":"js/chunk-89d4cd6a.90e7bf4d.js","sourcesContent":["'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{attrs:{\"label-position\":\"left\",\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"required\":\"\",\"label\":\"起點\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.departureStation),callback:function ($$v) {_vm.departureStation=$$v},expression:\"departureStation\"}},_vm._l((_vm.$store.state.station),function(item){return _c('el-option',{key:item.StationID,attrs:{\"label\":item.StationName.Zh_tw,\"value\":item.StationID}})}),1)],1),_c('el-form-item',{attrs:{\"required\":\"\",\"label\":\"終點\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.arrivalStation),callback:function ($$v) {_vm.arrivalStation=$$v},expression:\"arrivalStation\"}},_vm._l((_vm.$store.state.station),function(item){return _c('el-option',{key:item.StationID,attrs:{\"label\":item.StationName.Zh_tw,\"value\":item.StationID}})}),1)],1),_c('el-form-item',{attrs:{\"required\":\"\",\"label\":\"日期\"}},[_c('el-date-picker',{attrs:{\"clearable\":false,\"editable\":false,\"picker-options\":_vm.pickerOption,\"value-format\":\"yyyy-MM-dd\",\"type\":\"date\",\"placeholder\":\"选择發車日期\"},model:{value:(_vm.departureDate),callback:function ($$v) {_vm.departureDate=$$v},expression:\"departureDate\"}})],1),_c('el-form-item',{attrs:{\"label\":\"出發時間\"}},[_c('el-time-select',{attrs:{\"editable\":false,\"clearable\":false,\"picker-options\":{\n          start: _vm.startTimeOption,\n          step: '00:30',\n          end: '23:30'\n        },\"placeholder\":\"选择时间\"},model:{value:(_vm.departureTime),callback:function ($$v) {_vm.departureTime=$$v},expression:\"departureTime\"}})],1),_c('el-form-item',{attrs:{\"label\":\"抵達時間\"}},[_c('el-time-select',{attrs:{\"editable\":false,\"clearable\":false,\"picker-options\":{\n          start: _vm.startTimeOption,\n          step: '00:30',\n          end: '23:30'\n        },\"placeholder\":\"选择时间\"},model:{value:(_vm.arrivalTime),callback:function ($$v) {_vm.arrivalTime=$$v},expression:\"arrivalTime\"}})],1),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loading,\"disabled\":_vm.btnDisabled},on:{\"click\":_vm.getTrains}},[_vm._v(\"\\n      查詢車次\\n    \")])],1),_c('section',{staticClass:\"result\"},[_c('p',[_vm._v(\"共 \"+_vm._s(_vm.result.length)+\" 筆結果\")]),_c('el-table',{attrs:{\"data\":_vm.result,\"stripe\":\"\",\"max-height\":\"300\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"prop\":\"DailyTrainInfo.TrainNo\",\"label\":\"車次\"}}),_c('el-table-column',{attrs:{\"prop\":\"OriginStopTime.DepartureTime\",\"label\":\"出發\"}}),_c('el-table-column',{attrs:{\"prop\":\"DestinationStopTime.ArrivalTime\",\"label\":\"抵達\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-form label-position=\"left\" label-width=\"70px\">\n      <el-form-item required label=\"起點\">\n        <el-select v-model=\"departureStation\" placeholder=\"请选择\">\n          <el-option\n            v-for=\"item in $store.state.station\"\n            :key=\"item.StationID\"\n            :label=\"item.StationName.Zh_tw\"\n            :value=\"item.StationID\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item required label=\"終點\">\n        <el-select v-model=\"arrivalStation\" placeholder=\"请选择\">\n          <el-option\n            v-for=\"item in $store.state.station\"\n            :key=\"item.StationID\"\n            :label=\"item.StationName.Zh_tw\"\n            :value=\"item.StationID\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item required label=\"日期\">\n        <el-date-picker\n          :clearable=\"false\"\n          :editable=\"false\"\n          :picker-options=\"pickerOption\"\n          value-format=\"yyyy-MM-dd\"\n          v-model=\"departureDate\"\n          type=\"date\"\n          placeholder=\"选择發車日期\">\n        </el-date-picker>\n      </el-form-item>\n      <el-form-item label=\"出發時間\">\n        <el-time-select\n          v-model=\"departureTime\"\n          :editable=\"false\"\n          :clearable=\"false\"\n          :picker-options=\"{\n            start: startTimeOption,\n            step: '00:30',\n            end: '23:30'\n          }\"\n          placeholder=\"选择时间\">\n        </el-time-select>\n      </el-form-item>\n      <el-form-item label=\"抵達時間\">\n        <el-time-select\n          v-model=\"arrivalTime\"\n          :editable=\"false\"\n          :clearable=\"false\"\n          :picker-options=\"{\n            start: startTimeOption,\n            step: '00:30',\n            end: '23:30'\n          }\"\n          placeholder=\"选择时间\">\n        </el-time-select>\n      </el-form-item>\n      <el-button\n        type=\"primary\"\n        :loading=\"loading\"\n        :disabled=\"btnDisabled\"\n        @click=\"getTrains\">\n        查詢車次\n      </el-button>\n    </el-form>\n    <section class=\"result\">\n      <p>共 {{ result.length }} 筆結果</p>\n      <el-table :data=\"result\" stripe max-height=\"300\">\n        <el-table-column type=\"index\" />\n        <el-table-column prop=\"DailyTrainInfo.TrainNo\" label=\"車次\" />\n        <el-table-column prop=\"OriginStopTime.DepartureTime\" label=\"出發\" />\n        <el-table-column prop=\"DestinationStopTime.ArrivalTime\" label=\"抵達\" />\n      </el-table>\n    </section>\n  </div>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    departureStation: '',\n    arrivalStation: '',\n    departureDate: '',\n    departureTime: '00:00',\n    arrivalTime: '23:59',\n    pickerOption: {\n      disabledDate(date) {\n        const now = new Date();\n        // 已過日期不能選\n        return date < now - 86400000 * 1;\n      },\n    },\n    result: [],\n    startTimeOption: '',\n    loading: false,\n  }),\n  methods: {\n    getTrains() {\n      this.loading = true;\n      this.$store.dispatch('getTrains', {\n        departureStation: this.departureStation,\n        arrivalStation: this.arrivalStation,\n        departureDate: this.departureDate,\n      }).then((res) => {\n        this.loading = false;\n        this.result = res.data.sort((a, b) => {\n          if (a.OriginStopTime.DepartureTime < b.OriginStopTime.DepartureTime) return -1;\n          return 1;\n        }).filter(item => this.departureTime < item.OriginStopTime.DepartureTime)\n          .filter(item => this.arrivalTime > item.DestinationStopTime.ArrivalTime);\n      });\n    },\n    prepandZero(number) {\n      if (number > 10) return number;\n      return `0${number}`;\n    },\n  },\n  computed: {\n    btnDisabled() {\n      return !this.departureStation || !this.arrivalStation;\n    },\n  },\n  created() {\n    const d = new Date();\n    this.departureDate = `${d.getFullYear()}-${this.prepandZero(d.getMonth() + 1)}-${this.prepandZero(d.getDate())}`;\n\n    let hour = d.getHours();\n    let min = d.getMinutes();\n    if (min > 30) {\n      min = '0';\n      hour += 1;\n    } else {\n      min = '30';\n    }\n    this.startTimeOption = `${this.prepandZero(hour)}:${this.prepandZero(min)}`;\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.result {\n  font-size: 13px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkTrain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkTrain.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./checkTrain.vue?vue&type=template&id=6796a072&scoped=true&\"\nimport script from \"./checkTrain.vue?vue&type=script&lang=js&\"\nexport * from \"./checkTrain.vue?vue&type=script&lang=js&\"\nimport style0 from \"./checkTrain.vue?vue&type=style&index=0&id=6796a072&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6796a072\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkTrain.vue?vue&type=style&index=0&id=6796a072&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkTrain.vue?vue&type=style&index=0&id=6796a072&scoped=true&lang=scss&\""],"sourceRoot":""}